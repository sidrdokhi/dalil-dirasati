<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ - Ø­Ø³Ø§Ø¨ÙŠ</title>
    <style>
      /* === CSS === */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary: #4361ee;
        --secondary: #3a0ca3;
        --success: #4ade80;
        --warning: #f59e0b;
        --danger: #ef4444;
        --light: #f8fafc;
        --dark: #1e293b;
      }

      body {
        font-family: "Arial", sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
      }

      .navbar {
        background: rgba(255, 255, 255, 0.95);
        padding: 15px 30px;
        box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: sticky;
        top: 0;
        z-index: 1000;
      }

      .nav-brand {
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 1.8rem;
        color: var(--primary);
        font-weight: bold;
        text-decoration: none;
      }

      .nav-menu {
        display: flex;
        gap: 20px;
        align-items: center;
      }

      .nav-link {
        color: var(--dark);
        text-decoration: none;
        padding: 10px 20px;
        border-radius: 25px;
        transition: all 0.3s;
        font-weight: 500;
      }

      .nav-link:hover {
        background: rgba(67, 97, 238, 0.1);
        color: var(--primary);
      }

      .nav-link.active {
        background: var(--primary);
        color: white;
      }

      .nav-user {
        display: flex;
        align-items: center;
        gap: 20px;
        margin-left: 30px;
      }

      #userName {
        font-weight: bold;
        color: var(--dark);
        background: rgba(67, 97, 238, 0.1);
        padding: 8px 15px;
        border-radius: 20px;
      }

      .btn-logout {
        background: var(--danger);
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 25px;
        cursor: pointer;
        font-weight: bold;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.3s;
      }

      .btn-logout:hover {
        background: #dc2626;
        transform: translateY(-2px);
      }

      .container {
        max-width: 1200px;
        margin: 40px auto;
        padding: 0 20px;
      }

      /* Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
      .main-section {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 20px;
        padding: 40px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
        margin-bottom: 40px;
      }

      .hero-welcome {
        text-align: center;
        padding: 40px;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        border-radius: 15px;
        color: white;
        margin-bottom: 40px;
      }

      .hero-welcome h1 {
        font-size: 2.5rem;
        margin-bottom: 10px;
      }

      .hero-welcome p {
        font-size: 1.2rem;
        opacity: 0.9;
      }

      .quick-actions {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 25px;
        margin-bottom: 40px;
      }

      .action-card {
        background: white;
        padding: 30px;
        border-radius: 15px;
        text-align: center;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        transition: all 0.3s;
        border: 2px solid transparent;
        cursor: pointer;
      }

      .action-card:hover {
        transform: translateY(-10px);
        border-color: var(--primary);
        box-shadow: 0 15px 30px rgba(67, 97, 238, 0.2);
      }

      .action-icon {
        font-size: 3rem;
        margin-bottom: 20px;
        color: var(--primary);
      }

      .action-card h3 {
        margin-bottom: 15px;
        color: var(--dark);
      }

      /* Ù‚Ø³Ù… Ø§Ù„Ø­Ø§Ø³Ø¨Ø© */
      .calculator-section {
        background: white;
        padding: 40px;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        margin-top: 40px;
        display: none;
      }

      .calculator-section.active {
        display: block;
        animation: fadeIn 0.5s;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .calculator-header {
        text-align: center;
        margin-bottom: 40px;
        border-bottom: 2px solid #eee;
        padding-bottom: 20px;
      }

      .calculator-header h2 {
        color: var(--dark);
        font-size: 2rem;
        margin-bottom: 10px;
      }

      /* Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø³ØªÙˆÙ‰ */
      .level-selector {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-bottom: 40px;
        flex-wrap: wrap;
      }

      .level-card {
        background: var(--light);
        border: 2px solid #ddd;
        border-radius: 15px;
        padding: 25px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s;
        min-width: 200px;
      }

      .level-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      }

      .level-card.active {
        background: var(--primary);
        border-color: var(--primary);
        color: white;
      }

      .level-icon {
        font-size: 2.5rem;
        margin-bottom: 15px;
      }

      /* Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª */
      .subjects-container {
        background: var(--light);
        padding: 30px;
        border-radius: 15px;
        margin-bottom: 30px;
      }

      .subjects-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 25px;
        flex-wrap: wrap;
        gap: 15px;
      }

      .subjects-list {
        display: flex;
        flex-direction: column;
        gap: 15px;
      }

      .subject-row {
        display: grid;
        grid-template-columns: 3fr 2fr 1fr;
        gap: 15px;
        align-items: center;
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
      }

      @media (max-width: 768px) {
        .subject-row {
          grid-template-columns: 1fr;
          text-align: center;
        }
      }

      .subject-name {
        font-weight: bold;
        color: var(--dark);
      }

      .grade-input {
        padding: 12px;
        border: 2px solid #ddd;
        border-radius: 8px;
        text-align: center;
        font-size: 1.1rem;
        transition: all 0.3s;
      }

      .grade-input:focus {
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        outline: none;
      }

      .coefficient {
        text-align: center;
        background: #e8f4ff;
        padding: 8px 15px;
        border-radius: 20px;
        font-weight: bold;
        color: var(--primary);
      }

      /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
      .btn {
        padding: 15px 30px;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        font-weight: bold;
        font-size: 1.1rem;
        transition: all 0.3s;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
      }

      .btn-primary {
        background: linear-gradient(45deg, var(--primary), var(--secondary));
        color: white;
        box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
      }

      .btn-primary:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 25px rgba(67, 97, 238, 0.4);
      }

      .btn-secondary {
        background: white;
        color: var(--primary);
        border: 2px solid var(--primary);
      }

      .btn-secondary:hover {
        background: rgba(67, 97, 238, 0.1);
      }

      /* Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø­Ø³Ø§Ø¨ */
      .result-section {
        background: white;
        border: 3px solid var(--primary);
        border-radius: 20px;
        overflow: hidden;
        margin-top: 40px;
        display: none;
      }

      .result-section.active {
        display: block;
        animation: slideIn 0.5s;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(40px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .result-header {
        background: linear-gradient(45deg, var(--primary), var(--secondary));
        color: white;
        padding: 25px;
        text-align: center;
      }

      .result-content {
        padding: 40px;
      }

      .result-main {
        text-align: center;
        margin-bottom: 40px;
      }

      .average-circle {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        background: linear-gradient(45deg, var(--primary), var(--secondary));
        color: white;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        margin: 0 auto 30px;
        font-weight: bold;
        box-shadow: 0 10px 30px rgba(67, 97, 238, 0.3);
      }

      .average-value {
        font-size: 3rem;
        line-height: 1;
      }

      .average-label {
        font-size: 1.2rem;
        opacity: 0.9;
      }

      .result-message {
        font-size: 1.5rem;
        margin: 20px 0;
        padding: 15px 30px;
        border-radius: 50px;
        display: inline-block;
      }

      .message-excellent {
        background: rgba(74, 222, 128, 0.2);
        color: #166534;
      }

      .message-good {
        background: rgba(245, 158, 11, 0.2);
        color: #92400e;
      }

      .message-need-improvement {
        background: rgba(239, 68, 68, 0.2);
        color: #991b1b;
      }

      /* Ù‚Ø³Ù… Ø§Ù„Ø³Ø¬Ù„ */
      .history-section {
        background: white;
        padding: 40px;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        margin-top: 40px;
        display: none;
      }

      .history-section.active {
        display: block;
      }

      .history-list {
        max-height: 400px;
        overflow-y: auto;
        margin: 20px 0;
      }

      .history-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px;
        border-bottom: 1px solid #eee;
        transition: all 0.3s;
      }

      .history-item:hover {
        background: var(--light);
      }

      /* Ù‚Ø³Ù… Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ */
      .orientation-section {
        background: white;
        padding: 40px;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        margin-top: 40px;
        display: none;
      }

      .orientation-section.active {
        display: block;
        animation: fadeIn 0.5s;
      }

      .orientation-header {
        text-align: center;
        margin-bottom: 40px;
        border-bottom: 2px solid #eee;
        padding-bottom: 20px;
      }

      .orientation-header h2 {
        color: var(--dark);
        font-size: 2rem;
        margin-bottom: 10px;
      }

      /* Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ */
      .orientation-options {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 25px;
        margin-bottom: 40px;
      }

      .orientation-card {
        background: var(--light);
        border: 2px solid #ddd;
        border-radius: 15px;
        padding: 30px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s;
      }

      .orientation-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      }

      .orientation-card.middle {
        border-color: #10b981;
      }

      .orientation-card.bac {
        border-color: #8b5cf6;
      }

      .orientation-icon {
        font-size: 3rem;
        margin-bottom: 20px;
      }

      .middle .orientation-icon {
        color: #10b981;
      }

      .bac .orientation-icon {
        color: #8b5cf6;
      }

      .orientation-card h3 {
        margin-bottom: 15px;
        color: var(--dark);
      }

      .orientation-card p {
        color: #666;
        margin-bottom: 20px;
      }

      /* Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ */
      .orientation-test {
        background: var(--light);
        padding: 30px;
        border-radius: 15px;
        margin-bottom: 30px;
      }

      .test-progress {
        margin-bottom: 25px;
      }

      .progress-bar {
        height: 8px;
        background: #ddd;
        border-radius: 4px;
        overflow: hidden;
        margin-bottom: 10px;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, var(--primary), var(--secondary));
        width: 0%;
        border-radius: 4px;
        transition: width 0.3s;
      }

      .progress-text {
        text-align: center;
        color: #666;
        font-weight: 600;
      }

      .test-question {
        background: white;
        padding: 25px;
        border-radius: 10px;
        margin-bottom: 25px;
        border-left: 5px solid var(--primary);
      }

      .test-question h3 {
        color: var(--dark);
        font-size: 1.3rem;
        margin-bottom: 15px;
      }

      .test-options {
        display: grid;
        gap: 15px;
        margin-bottom: 30px;
      }

      .test-option {
        background: white;
        padding: 20px;
        border-radius: 10px;
        border: 2px solid #ddd;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .test-option:hover {
        border-color: var(--primary);
        background: rgba(67, 97, 238, 0.05);
      }

      .test-option.selected {
        border-color: var(--primary);
        background: rgba(67, 97, 238, 0.1);
      }

      .test-option .option-number {
        width: 40px;
        height: 40px;
        background: #ddd;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: #666;
      }

      .test-option.selected .option-number {
        background: var(--primary);
        color: white;
      }

      .test-navigation {
        display: flex;
        justify-content: space-between;
        gap: 15px;
      }

      .btn-success {
        background: linear-gradient(45deg, #10b981, #059669);
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 10px;
        cursor: pointer;
        font-weight: bold;
        display: flex;
        align-items: center;
        gap: 10px;
        transition: all 0.3s;
      }

      .btn-success:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 25px rgba(16, 185, 129, 0.4);
      }

      /* Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ */
      .orientation-result {
        background: white;
        border: 3px solid #10b981;
        border-radius: 20px;
        overflow: hidden;
        margin-top: 40px;
        display: none;
      }

      .orientation-result.active {
        display: block;
        animation: slideIn 0.5s;
      }

      .orientation-result-header {
        background: linear-gradient(45deg, #10b981, #059669);
        color: white;
        padding: 25px;
        text-align: center;
      }

      .orientation-result-content {
        padding: 40px;
      }

      .result-details {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px;
        margin-bottom: 40px;
      }

      .result-branch {
        text-align: center;
        padding: 25px;
        background: var(--light);
        border-radius: 15px;
      }

      .branch-icon {
        font-size: 4rem;
        margin-bottom: 20px;
      }

      .branch-name {
        font-size: 2rem;
        color: var(--dark);
        margin-bottom: 10px;
      }

      .match-percentage {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        background: conic-gradient(#10b981 0% 80%, #ddd 80% 100%);
        color: white;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
        font-weight: bold;
        position: relative;
      }

      .match-percentage::before {
        content: '';
        position: absolute;
        width: 100px;
        height: 100px;
        background: white;
        border-radius: 50%;
      }

      .percentage-value {
        position: relative;
        z-index: 1;
        font-size: 2.5rem;
        line-height: 1;
      }

      .percentage-label {
        position: relative;
        z-index: 1;
        font-size: 1rem;
        opacity: 0.9;
      }

      .strengths-list {
        list-style: none;
        padding: 0;
      }

      .strengths-list li {
        padding: 10px 0;
        border-bottom: 1px solid #eee;
        color: #475569;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .strengths-list li:last-child {
        border-bottom: none;
      }

      .strengths-list li i {
        color: #10b981;
      }

      .career-paths {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 20px;
      }

      .career-tag {
        background: rgba(16, 185, 129, 0.1);
        color: #059669;
        padding: 8px 15px;
        border-radius: 20px;
        font-weight: 500;
      }

      /* Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„ÙØ±ÙˆØ¹ */
      .comparison-table {
        background: white;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        margin-top: 30px;
      }

      .comparison-table table {
        width: 100%;
        border-collapse: collapse;
      }

      .comparison-table th {
        background: var(--primary);
        color: white;
        padding: 20px;
        text-align: center;
        font-weight: 600;
      }

      .comparison-table td {
        padding: 15px 20px;
        text-align: center;
        border-bottom: 1px solid #eee;
        color: #475569;
      }

      .comparison-table tr:last-child td {
        border-bottom: none;
      }

      .comparison-table tbody tr:hover {
        background: var(--light);
      }

      footer {
        text-align: center;
        padding: 30px;
        color: white;
        margin-top: 40px;
      }
    </style>
  </head>
  <body>
    <!-- === Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ === -->
    <nav class="navbar">
      <a href="index.html" class="nav-brand" onclick="showMainPage()">
        ğŸ“ Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ
      </a>

      <div class="nav-menu">
        <a href="calcul.html" class="nav-link active" onclick="showMainPage()">
          ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        </a>
        <a href="calcul.html" class="nav-link" onclick="showCalculator()">
          ğŸ§® Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„
        </a>
        <a href="#" class="nav-link" onclick="showOrientation()">
          ğŸ§­ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ
        </a>
        <a href="#" class="nav-link" onclick="showHistory()">
          ğŸ“œ Ø³Ø¬Ù„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
        </a>

        <div class="nav-user">
          <span id="userName">Ù…Ø³ØªØ®Ø¯Ù…</span>
          <button id="logoutBtn" class="btn-logout">ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
        </div>
      </div>
    </nav>

    <div class="container">
      <!-- === Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© === -->
      <div id="mainPage" class="main-section">
        <div class="hero-welcome">
          <h1 id="welcomeName">Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙƒØŒ Ù…Ø³ØªØ®Ø¯Ù…</h1>
          <p>Ø§Ø³ØªØ®Ø¯Ù… Ø£Ø¯ÙˆØ§ØªÙ†Ø§ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© Ù„Ø­Ø³Ø§Ø¨ Ù…Ø¹Ø¯Ù„Ùƒ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ ÙˆØªØªØ¨Ø¹ ØªÙ‚Ø¯Ù…Ùƒ</p>
        </div>

        <div class="quick-actions">
          <div class="action-card" onclick="showCalculator()">
            <div class="action-icon">ğŸ§®</div>
            <h3>Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„</h3>
            <p>Ø§Ø­Ø³Ø¨ Ù…Ø¹Ø¯Ù„Ùƒ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø¨Ø¯Ù‚Ø© Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</p>
            <button class="btn btn-primary" style="margin-top: 15px">
              Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø­Ø³Ø§Ø¨
            </button>
          </div>

          <div class="action-card" onclick="showOrientation()">
            <div class="action-icon">ğŸ§­</div>
            <h3>Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ</h3>
            <p>Ø§ÙƒØªØ´Ù Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ù‚Ø¯Ø±Ø§ØªÙƒ ÙˆØ§Ù‡ØªÙ…Ø§Ù…Ø§ØªÙƒ</p>
            <button class="btn btn-primary" style="margin-top: 15px">
              Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙˆØ¬ÙŠÙ‡
            </button>
          </div>

          <div class="action-card" onclick="showHistory()">
            <div class="action-icon">ğŸ“Š</div>
            <h3>Ø³Ø¬Ù„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</h3>
            <p>Ø§Ø·Ù„Ø¹ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø­Ø³Ø§Ø¨Ø§ØªÙƒ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ÙˆØªØ·ÙˆØ± Ø£Ø¯Ø§Ø¦Ùƒ</p>
            <button class="btn btn-secondary" style="margin-top: 15px">
              Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¬Ù„
            </button>
          </div>

          <div class="action-card" onclick="showInstructions()">
            <div class="action-icon">ğŸ“š</div>
            <h3>ÙƒÙŠÙÙŠØ© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</h3>
            <p>ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø·Ø±ÙŠÙ‚Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ù†ØµØ© Ø¨Ø§Ù„ØªÙØµÙŠÙ„</p>
            <button class="btn btn-secondary" style="margin-top: 15px">
              Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø´Ø±Ø­
            </button>
          </div>
        </div>

        <div
          style="
            text-align: center;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
          "
        >
          <h3 style="margin-bottom: 15px; color: var(--dark)">
            ğŸ“ˆ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø³Ø±ÙŠØ¹Ø©
          </h3>
          <div
            style="
              display: flex;
              justify-content: center;
              gap: 40px;
              flex-wrap: wrap;
            "
          >
            <div style="text-align: center">
              <div
                style="
                  font-size: 2.5rem;
                  font-weight: bold;
                  color: var(--primary);
                "
                id="totalCalculations"
              >
                0
              </div>
              <div style="color: #666">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</div>
            </div>
            <div style="text-align: center">
              <div
                style="
                  font-size: 2.5rem;
                  font-weight: bold;
                  color: var(--success);
                "
                id="bestAverage"
              >
                0.00
              </div>
              <div style="color: #666">Ø£ÙØ¶Ù„ Ù…Ø¹Ø¯Ù„</div>
            </div>
            <div style="text-align: center">
              <div
                style="
                  font-size: 2.5rem;
                  font-weight: bold;
                  color: var(--warning);
                "
                id="averageOverall"
              >
                0.00
              </div>
              <div style="color: #666">Ù…ØªÙˆØ³Ø· Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</div>
            </div>
            <div style="text-align: center">
              <div
                style="
                  font-size: 2.5rem;
                  font-weight: bold;
                  color: #8b5cf6;
                "
                id="orientationTests"
              >
                0
              </div>
              <div style="color: #666">Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªÙˆØ¬ÙŠÙ‡</div>
            </div>
          </div>
        </div>
      </div>

      <!-- === ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ø³Ø¨Ø© === -->
      <div id="calculatorPage" class="calculator-section">
        <div class="calculator-header">
          <h2>ğŸ§® Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ</h2>
          <p>Ø§Ø®ØªØ± Ù…Ø³ØªÙˆØ§Ùƒ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ ÙˆØ£Ø¯Ø®Ù„ Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ù…ÙˆØ§Ø¯</p>
        </div>

        <!-- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø³ØªÙˆÙ‰ -->
        <div class="level-selector">
          <div class="level-card active" onclick="selectLevel('primary')">
            <div class="level-icon">ğŸ‘¦</div>
            <h3>Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ</h3>
            <p>Ù…Ù† Ø§Ù„ØµÙ 1 Ø¥Ù„Ù‰ 6</p>
          </div>
          <div class="level-card" onclick="selectLevel('middle')">
            <div class="level-icon">ğŸ‘¨â€ğŸ“</div>
            <h3>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ</h3>
            <p>Ù…Ù† Ø§Ù„ØµÙ 7 Ø¥Ù„Ù‰ 9</p>
          </div>
          <div class="level-card" onclick="selectLevel('secondary')">
            <div class="level-icon">ğŸ‘¨â€ğŸ«</div>
            <h3>Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</h3>
            <p>Ù…Ù† Ø§Ù„ØµÙ 10 Ø¥Ù„Ù‰ 12</p>
          </div>
        </div>

        <!-- Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª -->
        <div class="subjects-container">
          <div class="subjects-header">
            <h3 style="margin: 0">ğŸ“ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª</h3>
            <div style="display: flex; gap: 10px">
              <button class="btn btn-secondary" onclick="addSubject()">
                â• Ø¥Ø¶Ø§ÙØ© Ù…Ø§Ø¯Ø©
              </button>
              <button class="btn btn-secondary" onclick="autoFillGrades()">
                ğŸ² ØªØ¹Ø¨Ø¦Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
              </button>
            </div>
          </div>

          <div class="subjects-list" id="subjectsList">
            <!-- Ø§Ù„Ù…ÙˆØ§Ø¯ ØªØ¶Ø§Ù Ù‡Ù†Ø§ -->
          </div>

          <div style="text-align: center; margin-top: 30px">
            <button
              class="btn btn-primary"
              onclick="calculateAverage()"
              style="padding: 18px 40px; font-size: 1.2rem"
            >
              ğŸ§® Ø§Ø­Ø³Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
            </button>
          </div>
        </div>
      </div>

      <!-- === Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø­Ø³Ø§Ø¨ === -->
      <div id="resultPage" class="result-section">
        <div class="result-header">
          <h2>ğŸ¯ Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø­Ø³Ø§Ø¨</h2>
          <p id="resultDate">-</p>
        </div>

        <div class="result-content">
          <div class="result-main">
            <div class="average-circle">
              <div class="average-value" id="finalAverage">0.00</div>
              <div class="average-label">Ù…Ù† 20</div>
            </div>

            <div class="result-message" id="resultMessage">-</div>

            <div style="margin: 30px 0">
              <h3>ğŸ“Š ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…ÙˆØ§Ø¯</h3>
              <div id="subjectsDetails" style="margin-top: 20px">
                <!-- ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…ÙˆØ§Ø¯ -->
              </div>
            </div>
          </div>

          <div style="display: flex; gap: 15px; justify-content: center">
            <button class="btn btn-secondary" onclick="saveCalculation()">
              ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ù†ØªÙŠØ¬Ø©
            </button>
            <button class="btn btn-primary" onclick="newCalculation()">
              ğŸ”„ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯
            </button>
            <button class="btn btn-secondary" onclick="printResult()">
              ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©
            </button>
          </div>
        </div>
      </div>

      <!-- === ØµÙØ­Ø© Ø§Ù„Ø³Ø¬Ù„ === -->
      <div id="historyPage" class="history-section">
        <h2>ğŸ“œ Ø³Ø¬Ù„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</h2>
        <p>Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø­Ø³Ø§Ø¨Ø§ØªÙƒ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</p>

        <div class="history-list" id="historyList">
          <!-- Ø§Ù„Ø³Ø¬Ù„ -->
        </div>

        <div style="text-align: center; margin-top: 30px">
          <button class="btn btn-primary" onclick="showMainPage()">
            â†©ï¸ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
          </button>
          <button
            class="btn btn-secondary"
            onclick="clearAllHistory()"
            style="margin-left: 15px"
          >
            ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„ ÙƒÙ„Ù‡
          </button>
        </div>
      </div>

      <!-- === ØµÙØ­Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ === -->
      <div id="orientationPage" class="orientation-section">
        <div class="orientation-header">
          <h2>ğŸ§­ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø§Ù„Ø°ÙƒÙŠ</h2>
          <p>Ø§ÙƒØªØ´Ù Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù‚Ø¯Ø±Ø§ØªÙƒ ÙˆØ§Ù‡ØªÙ…Ø§Ù…Ø§ØªÙƒ</p>
        </div>

        <!-- Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ -->
        <div class="orientation-options">
          <div class="orientation-card middle" onclick="startMiddleOrientation()">
            <div class="orientation-icon">ğŸ‘¨â€ğŸ“</div>
            <h3>Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ</h3>
            <p>Ø§Ø®ØªØ± Ø§Ù„ÙØ±Ø¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©</p>
            <button class="btn btn-primary" style="margin-top: 15px">
              Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
            </button>
          </div>

          <div class="orientation-card bac" onclick="startBacOrientation()">
            <div class="orientation-icon">ğŸ“</div>
            <h3>Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠ</h3>
            <p>Ø§Ø®ØªØ± Ø§Ù„ØªØ®ØµØµ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø¹Ø¯ Ø§Ù„Ø¨Ø§ÙƒØ§Ù„ÙˆØ±ÙŠØ§</p>
            <button class="btn btn-primary" style="margin-top: 15px">
              Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
            </button>
          </div>
        </div>

        <!-- Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ -->
        <div id="middleTest" class="orientation-test" style="display: none;">
          <div class="test-progress">
            <div class="progress-bar">
              <div class="progress-fill" id="middleTestProgress"></div>
            </div>
            <div class="progress-text" id="middleProgressText">Ø§Ù„Ø³Ø¤Ø§Ù„ 1/5</div>
          </div>

          <div class="test-question" id="middleQuestionContainer">
            <!-- Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ØªØ¶Ø§Ù Ù‡Ù†Ø§ -->
          </div>

          <div class="test-options" id="middleOptionsContainer">
            <!-- Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª ØªØ¶Ø§Ù Ù‡Ù†Ø§ -->
          </div>

          <div class="test-navigation">
            <button class="btn btn-secondary" id="middlePrevBtn" onclick="middlePrevQuestion()" disabled>
              <i class="fas fa-arrow-right"></i> Ø§Ù„Ø³Ø§Ø¨Ù‚
            </button>
            <button class="btn btn-primary" id="middleNextBtn" onclick="middleNextQuestion()">
              Ø§Ù„ØªØ§Ù„ÙŠ <i class="fas fa-arrow-left"></i>
            </button>
            <button class="btn btn-success" id="middleResultBtn" onclick="showMiddleResult()" style="display: none;">
              <i class="fas fa-chart-bar"></i> Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©
            </button>
          </div>
        </div>

        <!-- Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¨Ø¹Ø¯ Ø§Ù„Ø¨Ø§ÙƒØ§Ù„ÙˆØ±ÙŠØ§ -->
        <div id="bacTest" class="orientation-test" style="display: none;">
          <div class="test-progress">
            <div class="progress-bar">
              <div class="progress-fill" id="bacTestProgress"></div>
            </div>
            <div class="progress-text" id="bacProgressText">Ø§Ù„Ø³Ø¤Ø§Ù„ 1/6</div>
          </div>

          <div class="test-question" id="bacQuestionContainer">
            <!-- Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ØªØ¶Ø§Ù Ù‡Ù†Ø§ -->
          </div>

          <div class="test-options" id="bacOptionsContainer">
            <!-- Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª ØªØ¶Ø§Ù Ù‡Ù†Ø§ -->
          </div>

          <div class="test-navigation">
            <button class="btn btn-secondary" id="bacPrevBtn" onclick="bacPrevQuestion()" disabled>
              <i class="fas fa-arrow-right"></i> Ø§Ù„Ø³Ø§Ø¨Ù‚
            </button>
            <button class="btn btn-primary" id="bacNextBtn" onclick="bacNextQuestion()">
              Ø§Ù„ØªØ§Ù„ÙŠ <i class="fas fa-arrow-left"></i>
            </button>
            <button class="btn btn-success" id="bacResultBtn" onclick="showBacResult()" style="display: none;">
              <i class="fas fa-chart-bar"></i> Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©
            </button>
          </div>
        </div>

        <!-- Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ -->
        <div id="middleResult" class="orientation-result" style="display: none;">
          <div class="orientation-result-header">
            <h2>ğŸ¯ Ù†ØªÙŠØ¬Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙˆØ¬ÙŠÙ‡</h2>
            <p>Ø§Ù„ØªØ®ØµØµ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ùƒ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ</p>
          </div>

          <div class="orientation-result-content">
            <div class="result-details">
              <div class="result-branch">
                <div class="branch-icon" id="middleBranchIcon">ğŸ‘¨â€ğŸ“</div>
                <div class="branch-name" id="middleBranchName">-</div>
                <div class="match-percentage">
                  <div class="percentage-value" id="middleMatchPercentage">0%</div>
                  <div class="percentage-label">Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙˆØ§ÙÙ‚</div>
                </div>
              </div>

              <div style="flex: 1;">
                <h3>ğŸ“Š Ù†Ù‚Ø§Ø· Ù‚ÙˆØªÙƒ</h3>
                <ul class="strengths-list" id="middleStrengthsList">
                  <!-- Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© -->
                </ul>

                <h3 style="margin-top: 30px;">ğŸ’¼ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…Ù‡Ù†ÙŠØ©</h3>
                <div class="career-paths" id="middleCareerPaths">
                  <!-- Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…Ù‡Ù†ÙŠØ© -->
                </div>
              </div>
            </div>

            <!-- Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„ÙØ±ÙˆØ¹ -->
            <div class="comparison-table">
              <table>
                <thead>
                  <tr>
                    <th>Ø§Ù„Ù…Ø¹ÙŠØ§Ø±</th>
                    <th>Ø¹Ù„Ù…ÙŠ</th>
                    <th>Ø£Ø¯Ø¨ÙŠ</th>
                    <th>ØªÙ‚Ù†ÙŠ</th>
                    <th>Ø£ØµÙ„ÙŠ</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Ù…ØªÙˆØ³Ø· Ø³Ù†ÙˆØ§Øª Ø§Ù„Ø¯Ø±Ø§Ø³Ø©</td>
                    <td>3 Ø³Ù†ÙˆØ§Øª</td>
                    <td>3 Ø³Ù†ÙˆØ§Øª</td>
                    <td>2-3 Ø³Ù†ÙˆØ§Øª</td>
                    <td>3-4 Ø³Ù†ÙˆØ§Øª</td>
                  </tr>
                  <tr>
                    <td>Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙˆØ¸ÙŠÙ</td>
                    <td>85%</td>
                    <td>78%</td>
                    <td>92%</td>
                    <td>80%</td>
                  </tr>
                  <tr>
                    <td>Ø§Ù„Ù…Ø¬Ø§Ù„Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©</td>
                    <td>ÙˆØ§Ø³Ø¹Ø©</td>
                    <td>Ù…ØªÙˆØ³Ø·Ø©</td>
                    <td>Ù…ØªØ®ØµØµØ©</td>
                    <td>Ù…ØªØ®ØµØµØ©</td>
                  </tr>
                  <tr>
                    <td>Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¯Ø®Ù„</td>
                    <td>Ù…Ø±ØªÙØ¹</td>
                    <td>Ù…ØªÙˆØ³Ø·</td>
                    <td>Ø¬ÙŠØ¯</td>
                    <td>Ù…ØªÙˆØ³Ø· Ø¥Ù„Ù‰ Ø¬ÙŠØ¯</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div style="display: flex; gap: 15px; justify-content: center; margin-top: 30px;">
              <button class="btn btn-secondary" onclick="saveOrientationResult('middle')">
                ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ù†ØªÙŠØ¬Ø©
              </button>
              <button class="btn btn-primary" onclick="startMiddleOrientation()">
                ğŸ”„ Ø§Ø®ØªØ¨Ø§Ø± Ø¬Ø¯ÙŠØ¯
              </button>
              <button class="btn btn-secondary" onclick="printOrientationResult()">
                ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©
              </button>
            </div>
          </div>
        </div>

        <!-- Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¨Ø¹Ø¯ Ø§Ù„Ø¨Ø§ÙƒØ§Ù„ÙˆØ±ÙŠØ§ -->
        <div id="bacResult" class="orientation-result" style="display: none;">
          <div class="orientation-result-header">
            <h2>ğŸ“ Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠ</h2>
            <p>Ø§Ù„ØªØ®ØµØµ Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ùƒ</p>
          </div>

          <div class="orientation-result-content">
            <div class="result-details">
              <div class="result-branch">
                <div class="branch-icon" id="bacBranchIcon">ğŸ“</div>
                <div class="branch-name" id="bacBranchName">-</div>
                <div class="match-percentage">
                  <div class="percentage-value" id="bacMatchPercentage">0%</div>
                  <div class="percentage-label">Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙˆØ§ÙÙ‚</div>
                </div>
              </div>

              <div style="flex: 1;">
                <h3>ğŸ“Š Ù†Ù‚Ø§Ø· Ù‚ÙˆØªÙƒ</h3>
                <ul class="strengths-list" id="bacStrengthsList">
                  <!-- Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© -->
                </ul>

                <h3 style="margin-top: 30px;">ğŸ¯ Ø§Ù„ØªÙˆØµÙŠØ§Øª</h3>
                <ul class="strengths-list" id="bacRecommendations">
                  <!-- Ø§Ù„ØªÙˆØµÙŠØ§Øª -->
                </ul>

                <h3 style="margin-top: 30px;">ğŸ’¼ Ø§Ù„Ù…Ø¬Ø§Ù„Ø§Øª Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ©</h3>
                <div class="career-paths" id="bacCareerPaths">
                  <!-- Ø§Ù„Ù…Ø¬Ø§Ù„Ø§Øª Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ© -->
                </div>
              </div>
            </div>

            <div style="display: flex; gap: 15px; justify-content: center; margin-top: 30px;">
              <button class="btn btn-secondary" onclick="saveOrientationResult('bac')">
                ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ù†ØªÙŠØ¬Ø©
              </button>
              <button class="btn btn-primary" onclick="startBacOrientation()">
                ğŸ”„ Ø§Ø®ØªØ¨Ø§Ø± Ø¬Ø¯ÙŠØ¯
              </button>
              <button class="btn btn-secondary" onclick="printOrientationResult()">
                ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©
              </button>
            </div>
          </div>
        </div>

        <!-- Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© -->
        <div style="text-align: center; margin-top: 30px;">
          <button class="btn btn-primary" onclick="showMainPage()">
            â†©ï¸ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
          </button>
        </div>
      </div>
    </div>

    <footer>
      <p>Â© 2025 Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
      <p style="margin-top: 10px; opacity: 0.8">
        Ù…Ù†ØµØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„Ø­Ø³Ø§Ø¨ ÙˆØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ
      </p>
    </footer>

    <script>
      // === Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ===
      const subjectsData = {
        primary: [
          { name: "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", coefficient: 2 },
          { name: "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª", coefficient: 2 },
          { name: "Ø§Ù„Ù„ØºØ© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©", coefficient: 1 },
          { name: "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©", coefficient: 1 },
          { name: "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©", coefficient: 1 },
          { name: "Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ§Øª", coefficient: 1 },
          { name: "Ø§Ù„Ø¹Ù„ÙˆÙ…", coefficient: 1 },
        ],
        middle: [
          { name: "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", coefficient: 3 },
          { name: "Ø§Ù„Ù„ØºØ© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©", coefficient: 2 },
          { name: "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©", coefficient: 2 },
          { name: "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª", coefficient: 3 },
          { name: "Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡ ÙˆØ§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡", coefficient: 2 },
          { name: "Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­ÙŠØ§Ø© ÙˆØ§Ù„Ø£Ø±Ø¶", coefficient: 2 },
          { name: "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©", coefficient: 1 },
          { name: "Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ§Øª", coefficient: 1 },
        ],
        secondary: [
          { name: "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", coefficient: 3 },
          { name: "Ø§Ù„Ù„ØºØ© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©", coefficient: 2 },
          { name: "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©", coefficient: 2 },
          { name: "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª", coefficient: 4 },
          { name: "Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡", coefficient: 3 },
          { name: "Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡", coefficient: 3 },
          { name: "Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­ÙŠØ§Ø© ÙˆØ§Ù„Ø£Ø±Ø¶", coefficient: 3 },
          { name: "Ø§Ù„ÙÙ„Ø³ÙØ©", coefficient: 1 },
          { name: "Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§", coefficient: 1 },
        ],
      };

      // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ
      const middleOrientationQuestions = [
        {
          id: 1,
          question: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ© Ø§Ù„ØªÙŠ ØªØ³ØªÙ…ØªØ¹ Ø¨Ø¯Ø±Ø§Ø³ØªÙ‡Ø§ Ø£ÙƒØ«Ø±ØŸ",
          options: [
            { id: 'A', text: "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª ÙˆØ§Ù„Ø¹Ù„ÙˆÙ…", score: { scientific: 3, technical: 2 } },
            { id: 'B', text: "Ø§Ù„Ù„ØºØ§Øª ÙˆØ§Ù„Ø£Ø¯Ø¨", score: { literary: 3, original: 2 } },
            { id: 'C', text: "Ø§Ù„Ø±Ø³Ù… ÙˆØ§Ù„ÙÙ†ÙˆÙ†", score: { technical: 3, literary: 1 } },
            { id: 'D', text: "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© ÙˆØ§Ù„Ù‚Ø±Ø¢Ù†", score: { original: 3, literary: 2 } }
          ]
        },
        {
          id: 2,
          question: "ÙƒÙŠÙ ØªÙØ¶Ù„ Ù‚Ø¶Ø§Ø¡ ÙˆÙ‚Øª ÙØ±Ø§ØºÙƒØŸ",
          options: [
            { id: 'A', text: "Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ÙƒØªØ¨ Ø§Ù„Ø¹Ù„Ù…ÙŠØ©", score: { scientific: 3 } },
            { id: 'B', text: "Ø§Ù„ÙƒØªØ§Ø¨Ø© ÙˆØ§Ù„ØªØ£Ù„ÙŠÙ", score: { literary: 3 } },
            { id: 'C', text: "Ø§Ù„ØªØµÙ…ÙŠÙ… ÙˆØ§Ù„Ø¨Ø±Ù…Ø¬Ø©", score: { technical: 3 } },
            { id: 'D', text: "Ø¯Ø±Ø§Ø³Ø© Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø´Ø±Ø¹ÙŠØ©", score: { original: 3 } }
          ]
        },
        {
          id: 3,
          question: "Ù…Ø§ Ù‡ÙŠ Ù…Ù‡Ø§Ø±Ø§ØªÙƒ Ø§Ù„Ø£Ù‚ÙˆÙ‰ØŸ",
          options: [
            { id: 'A', text: "Ø§Ù„ØªØ­Ù„ÙŠÙ„ ÙˆØ§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ", score: { scientific: 3, technical: 2 } },
            { id: 'B', text: "Ø§Ù„ØªØ¹Ø¨ÙŠØ± ÙˆØ§Ù„ØªÙˆØ§ØµÙ„", score: { literary: 3, original: 1 } },
            { id: 'C', text: "Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ ÙˆØ§Ù„ØªØµÙ…ÙŠÙ…", score: { technical: 3, literary: 1 } },
            { id: 'D', text: "Ø§Ù„Ø­ÙØ¸ ÙˆØ§Ù„ÙÙ‡Ù… Ø§Ù„Ø³Ø±ÙŠØ¹", score: { original: 3, literary: 2 } }
          ]
        },
        {
          id: 4,
          question: "Ù…Ø§ Ù‡Ùˆ Ø­Ù„Ù…Ùƒ Ø§Ù„Ù…Ù‡Ù†ÙŠ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØŸ",
          options: [
            { id: 'A', text: "Ø·Ø¨ÙŠØ¨ Ø£Ùˆ Ù…Ù‡Ù†Ø¯Ø³", score: { scientific: 3 } },
            { id: 'B', text: "ÙƒØ§ØªØ¨ Ø£Ùˆ ØµØ­ÙÙŠ", score: { literary: 3 } },
            { id: 'C', text: "ØªÙ‚Ù†ÙŠ Ø£Ùˆ Ù…ØµÙ…Ù…", score: { technical: 3 } },
            { id: 'D', text: "Ø¹Ø§Ù„Ù… Ø¯ÙŠÙ† Ø£Ùˆ Ù‚Ø§Ø¶ÙŠ", score: { original: 3 } }
          ]
        },
        {
          id: 5,
          question: "ÙƒÙŠÙ ØªØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù…Ø´ÙƒÙ„Ø§ØªØŸ",
          options: [
            { id: 'A', text: "Ø£Ø­Ù„Ù„Ù‡Ø§ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©", score: { scientific: 3, technical: 2 } },
            { id: 'B', text: "Ø£Ø¨Ø­Ø« Ø¹Ù† Ø­Ù„ÙˆÙ„ Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ©", score: { literary: 3, technical: 1 } },
            { id: 'C', text: "Ø£Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙˆØ§Ù„ØªÙ‚Ù†ÙŠØ§Øª", score: { technical: 3 } },
            { id: 'D', text: "Ø£Ø³ØªØ´ÙŠØ± Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹ Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚Ø©", score: { original: 3, literary: 1 } }
          ]
        }
      ];

      // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¨Ø¹Ø¯ Ø§Ù„Ø¨Ø§ÙƒØ§Ù„ÙˆØ±ÙŠØ§
      const bacOrientationQuestions = [
        {
          id: 1,
          question: "Ù…Ø§ Ù‡ÙŠ Ø´Ø¹Ø¨Ø© Ø§Ù„Ø¨Ø§ÙƒØ§Ù„ÙˆØ±ÙŠØ§ Ø§Ù„Ø®Ø§ØµØ© Ø¨ÙƒØŸ",
          options: [
            { id: 'A', text: "Ø¹Ù„ÙˆÙ… ØªØ¬Ø±ÙŠØ¨ÙŠØ©", score: { medical: 3, engineering: 2 } },
            { id: 'B', text: "Ø±ÙŠØ§Ø¶ÙŠØ§Øª", score: { engineering: 3, business: 2 } },
            { id: 'C', text: "ØªÙ‚Ù†ÙŠ", score: { engineering: 3, technical: 2 } },
            { id: 'D', text: "Ø¢Ø¯Ø§Ø¨ ÙˆØ¹Ù„ÙˆÙ… Ø¥Ù†Ø³Ø§Ù†ÙŠØ©", score: { education: 3, arts: 2 } },
            { id: 'E', text: "Ø¹Ù„ÙˆÙ… Ø´Ø±Ø¹ÙŠØ©", score: { education: 3, law: 2 } }
          ]
        },
        {
          id: 2,
          question: "Ù…Ø§ Ù‡Ùˆ Ù…Ø¹Ø¯Ù„Ùƒ ÙÙŠ Ø§Ù„Ø¨Ø§ÙƒØ§Ù„ÙˆØ±ÙŠØ§ØŸ",
          options: [
            { id: 'A', text: "Ø£Ø¹Ù„Ù‰ Ù…Ù† 16/20", score: { medical: 3, engineering: 2 } },
            { id: 'B', text: "Ø¨ÙŠÙ† 14 Ùˆ 16/20", score: { engineering: 3, business: 2 } },
            { id: 'C', text: "Ø¨ÙŠÙ† 12 Ùˆ 14/20", score: { business: 3, education: 2 } },
            { id: 'D', text: "Ø£Ù‚Ù„ Ù…Ù† 12/20", score: { technical: 3, education: 2 } }
          ]
        },
        {
          id: 3,
          question: "Ù…Ø§ Ù‡ÙŠ Ø§Ù‡ØªÙ…Ø§Ù…Ø§ØªÙƒ Ø§Ù„Ù…Ù‡Ù†ÙŠØ©ØŸ",
          options: [
            { id: 'A', text: "Ø§Ù„Ø·Ø¨ ÙˆØ§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„ØµØ­ÙŠØ©", score: { medical: 3 } },
            { id: 'B', text: "Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© ÙˆØ§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§", score: { engineering: 3 } },
            { id: 'C', text: "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ÙˆØ§Ù„Ø£Ø¹Ù…Ø§Ù„", score: { business: 3 } },
            { id: 'D', text: "Ø§Ù„ØªØ¹Ù„ÙŠÙ… ÙˆØ§Ù„ØªØ±Ø¨ÙŠØ©", score: { education: 3 } },
            { id: 'E', text: "Ø§Ù„ÙÙ†ÙˆÙ† ÙˆØ§Ù„Ø¥Ø¨Ø¯Ø§Ø¹", score: { arts: 3 } }
          ]
        },
        {
          id: 4,
          question: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØªÙŠ ØªØªÙ…ØªØ¹ Ø¨Ù‡Ø§ØŸ",
          options: [
            { id: 'A', text: "ØªØ­Ù„ÙŠÙ„ÙŠØ© ÙˆÙ…Ù†Ø·Ù‚ÙŠØ©", score: { medical: 2, engineering: 3 } },
            { id: 'B', text: "Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ© ÙˆØªØµÙ…ÙŠÙ…ÙŠØ©", score: { arts: 3, engineering: 1 } },
            { id: 'C', text: "ØªÙˆØ§ØµÙ„ÙŠØ© ÙˆØ§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©", score: { education: 3, business: 2 } },
            { id: 'D', text: "ØªÙ†Ø¸ÙŠÙ…ÙŠØ© ÙˆØ¥Ø¯Ø§Ø±ÙŠØ©", score: { business: 3 } }
          ]
        },
        {
          id: 5,
          question: "Ù…Ø§ Ù‡Ùˆ Ù†Ù…Ø· Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…ÙØ¶Ù„ Ù„Ø¯ÙŠÙƒØŸ",
          options: [
            { id: 'A', text: "Ø¹Ù…Ù„ Ù…ÙƒØªØ¨ÙŠ Ù…Ù†Ø¸Ù…", score: { business: 3, education: 2 } },
            { id: 'B', text: "Ø¹Ù…Ù„ Ù…ÙŠØ¯Ø§Ù†ÙŠ ÙˆØªØ·Ø¨ÙŠÙ‚ÙŠ", score: { engineering: 3, medical: 2 } },
            { id: 'C', text: "Ø¹Ù…Ù„ Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ Ø­Ø±", score: { arts: 3 } },
            { id: 'D', text: "Ø¹Ù…Ù„ Ø®Ø¯Ù…ÙŠ ÙˆØ¥Ù†Ø³Ø§Ù†ÙŠ", score: { medical: 3, education: 2 } }
          ]
        },
        {
          id: 6,
          question: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª Ø§Ù„ØªÙŠ ØªØ³ØªÙ…ØªØ¹ Ø¨Ù‡Ø§ØŸ",
          options: [
            { id: 'A', text: "Ø­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø§Øª Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø©", score: { engineering: 3, medical: 2 } },
            { id: 'B', text: "Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù†Ø§Ø³", score: { education: 3, business: 2 } },
            { id: 'C', text: "Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ ÙˆØ§Ù„Ø§Ø¨ØªÙƒØ§Ø±", score: { arts: 3, engineering: 1 } },
            { id: 'D', text: "Ø§Ù„ØªØ®Ø·ÙŠØ· ÙˆØ§Ù„ØªÙ†Ø¸ÙŠÙ…", score: { business: 3 } }
          ]
        }
      ];

      // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±ÙˆØ¹ ÙˆØ§Ù„ØªØ®ØµØµØ§Øª
      const branchesData = {
        scientific: {
          name: "Ø§Ù„Ø´Ø¹Ø¨Ø© Ø§Ù„Ø¹Ù„Ù…ÙŠØ©",
          icon: "ğŸ”¬",
          strengths: [
            "ØªÙÙƒÙŠØ± ØªØ­Ù„ÙŠÙ„ÙŠ ÙˆÙ…Ù†Ø·Ù‚ÙŠ",
            "Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø§Øª Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø©",
            "Ø§Ù‡ØªÙ…Ø§Ù… Ø¨Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©",
            "Ù…Ù‡Ø§Ø±Ø§Øª Ø±ÙŠØ§Ø¶ÙŠØ© ÙˆØ¹Ù„Ù…ÙŠØ© Ù…Ù…ØªØ§Ø²Ø©"
          ],
          careers: ["Ø·Ø¨ÙŠØ¨", "Ù…Ù‡Ù†Ø¯Ø³", "ØµÙŠØ¯Ù„ÙŠ", "Ø¨Ø§Ø­Ø« Ø¹Ù„Ù…ÙŠ", "Ø£Ø³ØªØ§Ø° Ø¬Ø§Ù…Ø¹ÙŠ"]
        },
        literary: {
          name: "Ø§Ù„Ø´Ø¹Ø¨Ø© Ø§Ù„Ø£Ø¯Ø¨ÙŠØ©",
          icon: "ğŸ“š",
          strengths: [
            "Ù‚Ø¯Ø±Ø© ØªØ¹Ø¨ÙŠØ±ÙŠØ© Ù…Ù…ØªØ§Ø²Ø©",
            "Ø¥Ø¨Ø¯Ø§Ø¹ ÙÙŠ Ø§Ù„ÙƒØªØ§Ø¨Ø© ÙˆØ§Ù„ØªØ£Ù„ÙŠÙ",
            "ÙÙ‡Ù… Ø¹Ù…ÙŠÙ‚ Ù„Ù„ØºØ© ÙˆØ§Ù„Ø£Ø¯Ø¨",
            "Ø­Ø³ Ù†Ù‚Ø¯ÙŠ ÙˆØªØ­Ù„ÙŠÙ„ÙŠ"
          ],
          careers: ["ÙƒØ§ØªØ¨", "ØµØ­ÙÙŠ", "Ù…ØªØ±Ø¬Ù…", "Ø£Ø¯ÙŠØ¨", "Ù†Ø§Ù‚Ø¯ Ø£Ø¯Ø¨ÙŠ"]
        },
        technical: {
          name: "Ø§Ù„ØªÙ‚Ù†ÙŠ ÙˆØ§Ù„Ù…Ù‡Ù†ÙŠ",
          icon: "ğŸ”§",
          strengths: [
            "Ù…Ù‡Ø§Ø±Ø§Øª ØªÙ‚Ù†ÙŠØ© Ø¹Ø§Ù„ÙŠØ©",
            "Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£Ø¯ÙˆØ§Øª",
            "ØªÙÙƒÙŠØ± Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ ÙˆØªØµÙ…ÙŠÙ…ÙŠ",
            "Ù…Ù‡Ø§Ø±Ø§Øª Ø¹Ù…Ù„ÙŠØ© Ù…Ù…ØªØ§Ø²Ø©"
          ],
          careers: ["ØªÙ‚Ù†ÙŠ Ù…Ø®ØªØµ", "Ù…Ø¨Ø±Ù…Ø¬", "Ù…ØµÙ…Ù… Ø¬Ø±Ø§ÙÙŠÙƒ", "ÙÙ†ÙŠ", "Ø­Ø±ÙÙŠ"]
        },
        original: {
          name: "ØªØ¹Ù„ÙŠÙ… Ø£ØµÙ„ÙŠ",
          icon: "ğŸ•Œ",
          strengths: [
            "Ø­ÙØ¸ ÙˆÙÙ‡Ù… Ø³Ø±ÙŠØ¹",
            "Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªÙ†Ø¨Ø§Ø·",
            "Ø§Ù‡ØªÙ…Ø§Ù… Ø¨Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø´Ø±Ø¹ÙŠØ©",
            "Ø£Ø®Ù„Ø§Ù‚ ÙˆÙ…Ø¨Ø§Ø¯Ø¦ Ù‚ÙˆÙŠØ©"
          ],
          careers: ["Ø¹Ø§Ù„Ù… Ø¯ÙŠÙ†", "Ù‚Ø§Ø¶ÙŠ", "Ù…ÙØªÙŠ", "ÙˆØ§Ø¹Ø¸", "Ù…Ø¯Ø±Ø³ Ø´Ø±Ø¹ÙŠ"]
        }
      };

      const majorsData = {
        medical: {
          name: "Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„Ø·Ø¨ÙŠØ©",
          icon: "ğŸ©º",
          strengths: [
            "Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø¶ØºØ·",
            "Ø¯Ù‚Ø© ÙˆØ§Ù‡ØªÙ…Ø§Ù… Ø¨Ø§Ù„ØªÙØ§ØµÙŠÙ„",
            "Ù…Ù‡Ø§Ø±Ø§Øª ØªÙˆØ§ØµÙ„ Ù…Ù…ØªØ§Ø²Ø©",
            "ØªØ¹Ø§Ø·Ù ÙˆØ±ØºØ¨Ø© ÙÙŠ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©"
          ],
          recommendations: [
            "Ø±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø¹Ù„Ù…ÙŠØ©",
            "Ø·ÙˆØ± Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„",
            "Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ø¯Ù„ Ù…Ø±ØªÙØ¹",
            "Ø´Ø§Ø±Ùƒ ÙÙŠ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ØªØ·ÙˆØ¹ÙŠØ©"
          ],
          careers: ["Ø·Ø¨ÙŠØ¨ Ø¨Ø´Ø±ÙŠ", "Ø·Ø¨ÙŠØ¨ Ø£Ø³Ù†Ø§Ù†", "ØµÙŠØ¯Ù„ÙŠ", "ØªÙ…Ø±ÙŠØ¶", "Ø¹Ù„Ø§Ø¬ Ø·Ø¨ÙŠØ¹ÙŠ"]
        },
        engineering: {
          name: "Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ©",
          icon: "ğŸ—ï¸",
          strengths: [
            "ØªÙÙƒÙŠØ± ØªØ­Ù„ÙŠÙ„ÙŠ ÙˆÙ…Ù†Ø·Ù‚ÙŠ",
            "Ù…Ù‡Ø§Ø±Ø§Øª Ø±ÙŠØ§Ø¶ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø©",
            "Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø§Øª",
            "Ø§Ù‡ØªÙ…Ø§Ù… Ø¨Ø§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§"
          ],
          recommendations: [
            "Ø·ÙˆØ± Ù…Ù‡Ø§Ø±Ø§ØªÙƒ ÙÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª",
            "ØªØ¹Ù„Ù… Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©",
            "Ø´Ø§Ø±Ùƒ ÙÙŠ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø§Øª Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ©",
            "ØªØ¯Ø±Ø¨ Ø¹Ù„Ù‰ Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ"
          ],
          careers: ["Ù…Ù‡Ù†Ø¯Ø³ Ù…Ø¯Ù†ÙŠ", "Ù…Ù‡Ù†Ø¯Ø³ Ù…Ø¹Ù…Ø§Ø±ÙŠ", "Ù…Ù‡Ù†Ø¯Ø³ Ø¨Ø±Ù…Ø¬ÙŠØ§Øª", "Ù…Ù‡Ù†Ø¯Ø³ Ù…ÙŠÙƒØ§Ù†ÙŠÙƒ", "Ù…Ù‡Ù†Ø¯Ø³ ÙƒÙ‡Ø±Ø¨Ø§Ø¡"]
        },
        business: {
          name: "Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©",
          icon: "ğŸ’¼",
          strengths: [
            "Ù…Ù‡Ø§Ø±Ø§Øª Ù‚ÙŠØ§Ø¯ÙŠØ©",
            "ØªÙÙƒÙŠØ± Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ",
            "Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªÙØ§ÙˆØ¶",
            "Ù…Ù‡Ø§Ø±Ø§Øª ØªÙ†Ø¸ÙŠÙ…ÙŠØ©"
          ],
          recommendations: [
            "Ø·ÙˆØ± Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„",
            "ØªØ¹Ù„Ù… Ø§Ù„Ù„ØºØ§Øª Ø§Ù„Ø£Ø¬Ù†Ø¨ÙŠØ©",
            "Ø´Ø§Ø±Ùƒ ÙÙŠ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ù‚ÙŠØ§Ø¯ÙŠØ©",
            "ØªØ§Ø¨Ø¹ Ø§Ù„ØªØ·ÙˆØ±Ø§Øª Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ÙŠØ©"
          ],
          careers: ["Ù…Ø¯ÙŠØ± Ø£Ø¹Ù…Ø§Ù„", "Ù…Ø­Ø§Ø³Ø¨", "Ù…Ø³ÙˆÙ‚", "Ù…Ø³ØªØ´Ø§Ø± Ù…Ø§Ù„ÙŠ", "Ù…Ø¯ÙŠØ± Ù…ÙˆØ§Ø±Ø¯ Ø¨Ø´Ø±ÙŠØ©"]
        },
        education: {
          name: "Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„ØªØ±Ø¨ÙˆÙŠØ©",
          icon: "ğŸ‘¨â€ğŸ«",
          strengths: [
            "ØµØ¨Ø± ÙˆØªØ­Ù…Ù„",
            "Ù…Ù‡Ø§Ø±Ø§Øª ØªÙˆØ§ØµÙ„ Ù…Ù…ØªØ§Ø²Ø©",
            "Ø­Ø¨ Ø§Ù„ØªØ¹Ù„Ù… ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ…",
            "Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ù‚Ù†Ø§Ø¹"
          ],
          recommendations: [
            "Ø·ÙˆØ± Ù…Ù‡Ø§Ø±Ø§ØªÙƒ Ø§Ù„Ù„ØºÙˆÙŠØ©",
            "Ø´Ø§Ø±Ùƒ ÙÙŠ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©",
            "ØªØ¯Ø±Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±Ø­ ÙˆØ§Ù„ØªÙˆØ¶ÙŠØ­",
            "Ø§Ø·Ù„Ø¹ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†Ø§Ù‡Ø¬ Ø§Ù„Ø­Ø¯ÙŠØ«Ø©"
          ],
          careers: ["Ù…Ø¹Ù„Ù…", "Ø£Ø³ØªØ§Ø° Ø¬Ø§Ù…Ø¹ÙŠ", "Ù…Ø±Ø´Ø¯ ØªØ±Ø¨ÙˆÙŠ", "Ù…Ø·ÙˆØ± Ù…Ù†Ø§Ù‡Ø¬", "Ù…Ø¯ÙŠØ± Ù…Ø¯Ø±Ø³Ø©"]
        },
        arts: {
          name: "Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„ÙÙ†ÙŠØ©",
          icon: "ğŸ¨",
          strengths: [
            "Ø¥Ø¨Ø¯Ø§Ø¹ ÙˆØ®ÙŠØ§Ù„ ÙˆØ§Ø³Ø¹",
            "Ø­Ø³ ÙÙ†ÙŠ ÙˆØ¬Ù…Ø§Ù„ÙŠ",
            "Ù…Ù‡Ø§Ø±Ø§Øª ØªÙ‚Ù†ÙŠØ© ÙÙ†ÙŠØ©",
            "Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªØ¹Ø¨ÙŠØ±"
          ],
          recommendations: [
            "Ø·ÙˆØ± Ù…Ø­ÙØ¸ØªÙƒ Ø§Ù„ÙÙ†ÙŠØ©",
            "ØªØ¹Ù„Ù… Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØµÙ…ÙŠÙ…",
            "Ø´Ø§Ø±Ùƒ ÙÙŠ Ø§Ù„Ù…Ø¹Ø§Ø±Ø¶ Ø§Ù„ÙÙ†ÙŠØ©",
            "ØªØ§Ø¨Ø¹ Ø§Ù„ØªØ·ÙˆØ±Ø§Øª Ø§Ù„ÙÙ†ÙŠØ©"
          ],
          careers: ["Ù…ØµÙ…Ù… Ø¬Ø±Ø§ÙÙŠÙƒ", "ÙÙ†Ø§Ù† ØªØ´ÙƒÙŠÙ„ÙŠ", "Ù…Ø®Ø±Ø¬", "Ù…ÙˆØ³ÙŠÙ‚ÙŠ", "ÙƒØ§ØªØ¨ Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ"]
        }
      };

      let currentLevel = "middle";
      let subjects = [];
      let calculations = [];
      let orientationResults = [];

      // === ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø© ===
      document.addEventListener("DOMContentLoaded", function () {
        loadUser();
        loadCalculations();
        loadOrientationResults();
        showMainPage();
        updateStatistics();
        console.log("ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØµØ© Ø¨Ù†Ø¬Ø§Ø­");
      });

      // === ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ===
      function loadUser() {
        const userData = localStorage.getItem("currentUser");
        if (userData) {
          const user = JSON.parse(userData);
          document.getElementById("userName").textContent = user.fullName;
          document.getElementById(
            "welcomeName"
          ).textContent = `Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙƒØŒ ${user.fullName}`;

          // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø­Ø¯Ø¯Ø§Ù‹
          if (user.level) {
            currentLevel = user.level;
            selectLevel(user.level);
          }
        } else {
          // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…Ø³Ø¬Ù„Ø§Ù‹ØŒ Ø§Ø±Ø¬Ø¹ Ù„ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
          window.location.href = "login.html";
        }
      }

      // === ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª ===
      function loadCalculations() {
        const saved = localStorage.getItem("calculations");
        if (saved) {
          calculations = JSON.parse(saved);
        }
      }

      // === ØªØ­Ù…ÙŠÙ„ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ ===
      function loadOrientationResults() {
        const saved = localStorage.getItem("orientationResults");
        if (saved) {
          orientationResults = JSON.parse(saved);
        }
      }

      // === ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ===
      function updateStatistics() {
        const totalCalculations = calculations.length;
        const totalOrientationTests = orientationResults.length;
        
        document.getElementById("totalCalculations").textContent =
          totalCalculations;
        document.getElementById("orientationTests").textContent =
          totalOrientationTests;

        if (calculations.length > 0) {
          const bestAverage = Math.max(...calculations.map((c) => c.average));
          const averageOverall =
            calculations.reduce((sum, c) => sum + c.average, 0) /
            calculations.length;

          document.getElementById("bestAverage").textContent =
            bestAverage.toFixed(2);
          document.getElementById("averageOverall").textContent =
            averageOverall.toFixed(2);
        }
      }

      // === Ø¹Ø±Ø¶ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ===
      function showMainPage() {
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù†Ø´Ø·Ø©
        document.querySelectorAll(".nav-link").forEach((link) => {
          link.classList.remove("active");
        });
        document.querySelectorAll(".nav-link")[0].classList.add("active");

        // Ø¥Ø¸Ù‡Ø§Ø± ÙˆØ¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
        document.getElementById("mainPage").style.display = "block";
        document.getElementById("calculatorPage").style.display = "none";
        document.getElementById("resultPage").style.display = "none";
        document.getElementById("historyPage").style.display = "none";
        document.getElementById("orientationPage").style.display = "none";

        updateStatistics();
      }

      // === Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø§Ø³Ø¨Ø© ===
      function showCalculator() {
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù†Ø´Ø·Ø©
        document.querySelectorAll(".nav-link").forEach((link) => {
          link.classList.remove("active");
        });
        document.querySelectorAll(".nav-link")[1].classList.add("active");

        // Ø¥Ø¸Ù‡Ø§Ø± ÙˆØ¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
        document.getElementById("mainPage").style.display = "none";
        document.getElementById("calculatorPage").style.display = "block";
        document.getElementById("resultPage").style.display = "none";
        document.getElementById("historyPage").style.display = "none";
        document.getElementById("orientationPage").style.display = "none";

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆØ§Ø¯
        loadSubjects();
      }

      // === Ø¹Ø±Ø¶ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ ===
      function showOrientation() {
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù†Ø´Ø·Ø©
        document.querySelectorAll(".nav-link").forEach((link) => {
          link.classList.remove("active");
        });
        document.querySelectorAll(".nav-link")[2].classList.add("active");

        // Ø¥Ø¸Ù‡Ø§Ø± ÙˆØ¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
        document.getElementById("mainPage").style.display = "none";
        document.getElementById("calculatorPage").style.display = "none";
        document.getElementById("resultPage").style.display = "none";
        document.getElementById("historyPage").style.display = "none";
        document.getElementById("orientationPage").style.display = "block";
        document.getElementById("orientationPage").classList.add("active");

        // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ÙˆØ§Ù„Ù†ØªØ§Ø¦Ø¬
        document.getElementById("middleTest").style.display = "none";
        document.getElementById("bacTest").style.display = "none";
        document.getElementById("middleResult").style.display = "none";
        document.getElementById("bacResult").style.display = "none";
      }

      // === Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ===
      function selectLevel(level) {
        currentLevel = level;

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©
        document.querySelectorAll(".level-card").forEach((card) => {
          card.classList.remove("active");
        });
        event.target.closest(".level-card").classList.add("active");

        loadSubjects();
      }

      // === ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆØ§Ø¯ ===
      function loadSubjects() {
        subjects = [];
        const levelSubjects = subjectsData[currentLevel] || subjectsData.middle;

        levelSubjects.forEach((subject, index) => {
          subjects.push({
            id: index + 1,
            name: subject.name,
            grade: "",
            coefficient: subject.coefficient,
          });
        });

        renderSubjects();
      }

      // === Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙˆØ§Ø¯ ===
      function renderSubjects() {
        const container = document.getElementById("subjectsList");
        container.innerHTML = "";

        subjects.forEach((subject) => {
          const row = document.createElement("div");
          row.className = "subject-row";
          row.innerHTML = `
                    <div class="subject-name">${subject.name}</div>
                    <input type="number" 
                           class="grade-input" 
                           value="${subject.grade || ""}" 
                           min="0" 
                           max="20" 
                           step="0.25" 
                           placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¯Ø±Ø¬Ø©"
                           oninput="updateSubjectGrade(${
                             subject.id
                           }, this.value)">
                    <div class="coefficient">Ù…Ø¹Ø§Ù…Ù„: ${subject.coefficient}</div>
                `;
          container.appendChild(row);
        });
      }

      // === ØªØ­Ø¯ÙŠØ« Ø¯Ø±Ø¬Ø© Ø§Ù„Ù…Ø§Ø¯Ø© ===
      function updateSubjectGrade(id, grade) {
        const subject = subjects.find((s) => s.id === id);
        if (subject) {
          subject.grade = grade;
        }
      }

      // === Ø¥Ø¶Ø§ÙØ© Ù…Ø§Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø© ===
      function addSubject() {
        const newId =
          subjects.length > 0 ? Math.max(...subjects.map((s) => s.id)) + 1 : 1;

        subjects.push({
          id: newId,
          name: `Ù…Ø§Ø¯Ø© Ø¥Ø¶Ø§ÙÙŠØ© ${newId}`,
          grade: "",
          coefficient: 1,
        });

        renderSubjects();
      }

      // === ØªØ¹Ø¨Ø¦Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© ===
      function autoFillGrades() {
        subjects.forEach((subject) => {
          const randomGrade = (Math.random() * 10 + 10).toFixed(2);
          subject.grade = randomGrade;
        });

        renderSubjects();
      }

      // === Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„ ===
      function calculateAverage() {
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¯Ø±Ø¬Ø§Øª
        const invalidSubjects = subjects.filter((subject) => {
          const grade = parseFloat(subject.grade);
          return isNaN(grade) || grade < 0 || grade > 20;
        });

        if (invalidSubjects.length > 0) {
          alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¯Ø±Ø¬Ø§Øª ØµØ­ÙŠØ­Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ§Ø¯ (Ø¨ÙŠÙ† 0 Ùˆ 20)");
          return;
        }

        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„
        let totalWeightedGrade = 0;
        let totalCoefficient = 0;

        subjects.forEach((subject) => {
          const grade = parseFloat(subject.grade);
          if (!isNaN(grade)) {
            totalWeightedGrade += grade * subject.coefficient;
            totalCoefficient += subject.coefficient;
          }
        });

        if (totalCoefficient === 0) {
          alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¯Ø±Ø¬Ø§Øª Ù„Ø¨Ø¹Ø¶ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„");
          return;
        }

        const average = totalWeightedGrade / totalCoefficient;
        showResult(average);
      }

      // === Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø© ===
      function showResult(average) {
        // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø­Ø§Ø³Ø¨Ø© ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù†ØªÙŠØ¬Ø©
        document.getElementById("calculatorPage").style.display = "none";
        document.getElementById("resultPage").style.display = "block";
        document.getElementById("resultPage").classList.add("active");

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚ÙŠÙ…
        document.getElementById("finalAverage").textContent =
          average.toFixed(2);
        document.getElementById("resultDate").textContent =
          new Date().toLocaleDateString("ar-SA");

        // Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
        const messageEl = document.getElementById("resultMessage");
        let message = "";
        let messageClass = "";

        if (average >= 15) {
          message = "Ù…Ù…ØªØ§Ø² ğŸ”¥! Ø£Ø¯Ø§Ø¤Ùƒ Ø±Ø§Ø¦Ø¹ØŒ Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªÙ…ÙŠØ²";
          messageClass = "message-excellent";
        } else if (average >= 10) {
          message = "Ø¬ÙŠØ¯ ğŸ‘! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªØ­Ø³Ù† Ø£ÙƒØ«Ø± Ø¨Ø¨Ø¹Ø¶ Ø§Ù„Ø¬Ù‡Ø¯";
          messageClass = "message-good";
        } else {
          message = "ÙŠØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ† âš ï¸! Ø±ÙƒØ² Ø£ÙƒØ«Ø± ÙÙŠ Ø¯Ø±Ø§Ø³ØªÙƒ";
          messageClass = "message-need-improvement";
        }

        messageEl.textContent = message;
        messageEl.className = `result-message ${messageClass}`;

        // Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…ÙˆØ§Ø¯
        const detailsContainer = document.getElementById("subjectsDetails");
        detailsContainer.innerHTML = "";

        subjects.forEach((subject) => {
          const grade = parseFloat(subject.grade) || 0;
          const detailDiv = document.createElement("div");
          detailDiv.className = "subject-row";
          detailDiv.innerHTML = `
                    <div class="subject-name">${subject.name}</div>
                    <div style="text-align: center; font-weight: bold; color: ${
                      grade >= 10 ? "#166534" : "#991b1b"
                    }">
                        ${grade.toFixed(2)} / 20
                    </div>
                    <div class="coefficient">Ù…Ø¹Ø§Ù…Ù„: ${subject.coefficient}</div>
                `;
          detailsContainer.appendChild(detailDiv);
        });
      }

      // === Ø­ÙØ¸ Ø§Ù„Ø­Ø³Ø§Ø¨ ===
      function saveCalculation() {
        const average = parseFloat(
          document.getElementById("finalAverage").textContent
        );
        const calculation = {
          id: Date.now(),
          date: new Date().toISOString(),
          level: currentLevel,
          average: average,
          status: average >= 10 ? "Ù†Ø§Ø¬Ø­" : "Ø±Ø§Ø³Ø¨",
          subjectsCount: subjects.length,
        };

        calculations.unshift(calculation);
        localStorage.setItem("calculations", JSON.stringify(calculations));

        alert("âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­ ÙÙŠ Ø³Ø¬Ù„Ùƒ Ø§Ù„Ø´Ø®ØµÙŠ");
        updateStatistics();
      }

      // === Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯ ===
      function newCalculation() {
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…ÙˆØ§Ø¯
        subjects.forEach((subject) => {
          subject.grade = "";
        });

        // Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø­Ø§Ø³Ø¨Ø©
        showCalculator();
      }

      // === Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø© ===
      function printResult() {
        window.print();
      }

      // === Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¬Ù„ ===
      function showHistory() {
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù†Ø´Ø·Ø©
        document.querySelectorAll(".nav-link").forEach((link) => {
          link.classList.remove("active");
        });
        document.querySelectorAll(".nav-link")[3].classList.add("active");

        // Ø¥Ø¸Ù‡Ø§Ø± ÙˆØ¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
        document.getElementById("mainPage").style.display = "none";
        document.getElementById("calculatorPage").style.display = "none";
        document.getElementById("resultPage").style.display = "none";
        document.getElementById("orientationPage").style.display = "none";
        document.getElementById("historyPage").style.display = "block";
        document.getElementById("historyPage").classList.add("active");

        loadHistory();
      }

      // === ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¬Ù„ ===
      function loadHistory() {
        const container = document.getElementById("historyList");

        if (calculations.length === 0) {
          container.innerHTML = `
                    <div style="text-align: center; padding: 50px; color: #666;">
                        <div style="font-size: 3rem; margin-bottom: 20px;">ğŸ“­</div>
                        <h3 style="color: #666;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø³Ø§Ø¨Ø§Øª Ø³Ø§Ø¨Ù‚Ø©</h3>
                        <p>Ù‚Ù… Ø¨Ø­Ø³Ø§Ø¨ Ù…Ø¹Ø¯Ù„Ùƒ Ø§Ù„Ø£ÙˆÙ„ Ù„Ù„Ø¨Ø¯Ø¡!</p>
                    </div>
                `;
          return;
        }

        let html = "";
        calculations.forEach((calc) => {
          const levelName =
            calc.level === "primary"
              ? "Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ"
              : calc.level === "middle"
              ? "Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ"
              : "Ø«Ø§Ù†ÙˆÙŠ";

          html += `
                    <div class="history-item">
                        <div>
                            <strong>${levelName} - ${
            calc.subjectsCount
          } Ù…Ø§Ø¯Ø©</strong>
                            <div style="color: #666; font-size: 0.9rem; margin-top: 5px;">
                                ${new Date(calc.date).toLocaleDateString(
                                  "ar-SA"
                                )}
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 20px;">
                            <div style="font-size: 1.5rem; font-weight: bold; color: ${
                              calc.average >= 10 ? "#166534" : "#991b1b"
                            }">
                                ${calc.average.toFixed(2)}
                            </div>
                            <div style="background: ${
                              calc.average >= 10 ? "#d1fae5" : "#fee2e2"
                            }; 
                                         color: ${
                                           calc.average >= 10
                                             ? "#166534"
                                             : "#991b1b"
                                         };
                                         padding: 5px 15px; border-radius: 20px; font-weight: bold;">
                                ${calc.status}
                            </div>
                            <button onclick="deleteCalculation(${calc.id})" 
                                    style="background: #ef4444; color: white; border: none; 
                                           padding: 8px 15px; border-radius: 5px; cursor: pointer;">
                                Ø­Ø°Ù
                            </button>
                        </div>
                    </div>
                `;
        });

        container.innerHTML = html;
      }

      // === Ø­Ø°Ù Ø­Ø³Ø§Ø¨ ===
      function deleteCalculation(id) {
        if (confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø­Ø³Ø§Ø¨ØŸ")) {
          calculations = calculations.filter((calc) => calc.id !== id);
          localStorage.setItem("calculations", JSON.stringify(calculations));
          loadHistory();
          updateStatistics();
        }
      }

      // === Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„ ÙƒÙ„Ù‡ ===
      function clearAllHistory() {
        if (
          confirm(
            "Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©ØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡."
          )
        ) {
          calculations = [];
          localStorage.removeItem("calculations");
          loadHistory();
          updateStatistics();
          alert("ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„");
        }
      }

      // === Ø¹Ø±Ø¶ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª ===
      function showInstructions() {
        alert(`ğŸ“š ÙƒÙŠÙÙŠØ© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ù†ØµØ©:

1ï¸âƒ£ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„:
   - Ø§Ø®ØªØ± Ù…Ø³ØªÙˆØ§Ùƒ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ
   - Ø£Ø¯Ø®Ù„ Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ù…ÙˆØ§Ø¯
   - Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ø§Ø­Ø³Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„"

2ï¸âƒ£ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ:
   - Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ (Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ/Ø¬Ø§Ù…Ø¹ÙŠ)
   - Ø£Ø¬Ø¨ Ø¹Ù„Ù‰ Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
   - Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ ØªÙˆØµÙŠØ§Øª Ù…Ø®ØµØµØ©

3ï¸âƒ£ Ù…ÙŠØ²Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©:
   - ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙÙŠ Ø§Ù„Ø³Ø¬Ù„
   - ğŸ“Š Ø¹Ø±Ø¶ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø£Ø¯Ø§Ø¦Ùƒ
   - ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬
   - ğŸ² ØªØ¹Ø¨Ø¦Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±

ğŸ“ Ø§Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ù†ØµØ©!`);
      }

      // === ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ ===
      document
        .getElementById("logoutBtn")
        .addEventListener("click", function () {
          if (confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ")) {
            localStorage.removeItem("currentUser");
            window.location.href = "index.html";
          }
        });

      // ===== Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ =====
      
      // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ
      let middleCurrentQuestion = 0;
      let middleUserAnswers = {};

      // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¨Ø¹Ø¯ Ø§Ù„Ø¨Ø§ÙƒØ§Ù„ÙˆØ±ÙŠØ§
      let bacCurrentQuestion = 0;
      let bacUserAnswers = {};

      // Ø¨Ø¯Ø¡ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ
      function startMiddleOrientation() {
        // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ
        document.getElementById("middleTest").style.display = "block";
        document.getElementById("bacTest").style.display = "none";
        document.getElementById("middleResult").style.display = "none";
        document.getElementById("bacResult").style.display = "none";

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
        middleCurrentQuestion = 0;
        middleUserAnswers = {};

        // Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø£ÙˆÙ„
        showMiddleQuestion(middleCurrentQuestion);
      }

      // Ø¨Ø¯Ø¡ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¨Ø¹Ø¯ Ø§Ù„Ø¨Ø§ÙƒØ§Ù„ÙˆØ±ÙŠØ§
      function startBacOrientation() {
        // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¨Ø¹Ø¯ Ø§Ù„Ø¨Ø§ÙƒØ§Ù„ÙˆØ±ÙŠØ§
        document.getElementById("bacTest").style.display = "block";
        document.getElementById("middleTest").style.display = "none";
        document.getElementById("middleResult").style.display = "none";
        document.getElementById("bacResult").style.display = "none";

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
        bacCurrentQuestion = 0;
        bacUserAnswers = {};

        // Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø£ÙˆÙ„
        showBacQuestion(bacCurrentQuestion);
      }

      // Ø¹Ø±Ø¶ Ø³Ø¤Ø§Ù„ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ
      function showMiddleQuestion(index) {
        if (index >= middleOrientationQuestions.length) {
          return;
        }

        const question = middleOrientationQuestions[index];
        const questionContainer = document.getElementById("middleQuestionContainer");
        const optionsContainer = document.getElementById("middleOptionsContainer");
        const progressText = document.getElementById("middleProgressText");
        const progressFill = document.getElementById("middleTestProgress");
        const prevBtn = document.getElementById("middlePrevBtn");
        const nextBtn = document.getElementById("middleNextBtn");
        const resultBtn = document.getElementById("middleResultBtn");

        // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
        const progressPercent = ((index + 1) / middleOrientationQuestions.length) * 100;
        progressFill.style.width = `${progressPercent}%`;
        progressText.textContent = `Ø§Ù„Ø³Ø¤Ø§Ù„ ${index + 1}/${middleOrientationQuestions.length}`;

        // Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„
        questionContainer.innerHTML = `
          <h3>${question.question}</h3>
        `;

        // Ø¹Ø±Ø¶ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
        optionsContainer.innerHTML = "";
        question.options.forEach((option, optionIndex) => {
          const isSelected = middleUserAnswers[question.id] === option.id;
          const optionDiv = document.createElement("div");
          optionDiv.className = `test-option ${isSelected ? "selected" : ""}`;
          optionDiv.innerHTML = `
            <div class="option-number">${option.id}</div>
            <div class="option-text">${option.text}</div>
          `;
          optionDiv.onclick = () => selectMiddleOption(question.id, option.id);
          optionsContainer.appendChild(optionDiv);
        });

        // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„
        prevBtn.disabled = index === 0;

        if (index === middleOrientationQuestions.length - 1) {
          nextBtn.style.display = "none";
          resultBtn.style.display = "flex";
        } else {
          nextBtn.style.display = "flex";
          resultBtn.style.display = "none";
        }
      }

      // Ø§Ø®ØªÙŠØ§Ø± Ø®ÙŠØ§Ø± ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ
      function selectMiddleOption(questionId, optionId) {
        middleUserAnswers[questionId] = optionId;
        showMiddleQuestion(middleCurrentQuestion);
      }

      // Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ
      function middleNextQuestion() {
        if (middleCurrentQuestion < middleOrientationQuestions.length - 1) {
          middleCurrentQuestion++;
          showMiddleQuestion(middleCurrentQuestion);
        }
      }

      // Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚ ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ
      function middlePrevQuestion() {
        if (middleCurrentQuestion > 0) {
          middleCurrentQuestion--;
          showMiddleQuestion(middleCurrentQuestion);
        }
      }

      // Ø¹Ø±Ø¶ Ø³Ø¤Ø§Ù„ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨Ø§ÙƒØ§Ù„ÙˆØ±ÙŠØ§
      function showBacQuestion(index) {
        if (index >= bacOrientationQuestions.length) {
          return;
        }

        const question = bacOrientationQuestions[index];
        const questionContainer = document.getElementById("bacQuestionContainer");
        const optionsContainer = document.getElementById("bacOptionsContainer");
        const progressText = document.getElementById("bacProgressText");
        const progressFill = document.getElementById("bacTestProgress");
        const prevBtn = document.getElementById("bacPrevBtn");
        const nextBtn = document.getElementById("bacNextBtn");
        const resultBtn = document.getElementById("bacResultBtn");

        // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
        const progressPercent = ((index + 1) / bacOrientationQuestions.length) * 100;
        progressFill.style.width = `${progressPercent}%`;
        progressText.textContent = `Ø§Ù„Ø³Ø¤Ø§Ù„ ${index + 1}/${bacOrientationQuestions.length}`;

        // Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„
        questionContainer.innerHTML = `
          <h3>${question.question}</h3>
        `;

        // Ø¹Ø±Ø¶ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
        optionsContainer.innerHTML = "";
        question.options.forEach((option, optionIndex) => {
          const isSelected = bacUserAnswers[question.id] === option.id;
          const optionDiv = document.createElement("div");
          optionDiv.className = `test-option ${isSelected ? "selected" : ""}`;
          optionDiv.innerHTML = `
            <div class="option-number">${option.id}</div>
            <div class="option-text">${option.text}</div>
          `;
          optionDiv.onclick = () => selectBacOption(question.id, option.id);
          optionsContainer.appendChild(optionDiv);
        });

        // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„
        prevBtn.disabled = index === 0;

        if (index === bacOrientationQuestions.length - 1) {
          nextBtn.style.display = "none";
          resultBtn.style.display = "flex";
        } else {
          nextBtn.style.display = "flex";
          resultBtn.style.display = "none";
        }
      }

      // Ø§Ø®ØªÙŠØ§Ø± Ø®ÙŠØ§Ø± ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨Ø§ÙƒØ§Ù„ÙˆØ±ÙŠØ§
      function selectBacOption(questionId, optionId) {
        bacUserAnswers[questionId] = optionId;
        showBacQuestion(bacCurrentQuestion);
      }

      // Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨Ø§ÙƒØ§Ù„ÙˆØ±ÙŠØ§
      function bacNextQuestion() {
        if (bacCurrentQuestion < bacOrientationQuestions.length - 1) {
          bacCurrentQuestion++;
          showBacQuestion(bacCurrentQuestion);
        }
      }

      // Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚ ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨Ø§ÙƒØ§Ù„ÙˆØ±ÙŠØ§
      function bacPrevQuestion() {
        if (bacCurrentQuestion > 0) {
          bacCurrentQuestion--;
          showBacQuestion(bacCurrentQuestion);
        }
      }

      // Ø¹Ø±Ø¶ Ù†ØªÙŠØ¬Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ
      function showMiddleResult() {
        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø·
        const scores = {
          scientific: 0,
          literary: 0,
          technical: 0,
          original: 0
        };

        // Ø¬Ù…Ø¹ Ø§Ù„Ù†Ù‚Ø§Ø· Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª
        middleOrientationQuestions.forEach(question => {
          const answerId = middleUserAnswers[question.id];
          if (answerId) {
            const selectedOption = question.options.find(opt => opt.id === answerId);
            if (selectedOption && selectedOption.score) {
              for (const branch in selectedOption.score) {
                scores[branch] += selectedOption.score[branch];
              }
            }
          }
        });

        // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙØ±Ø¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨
        let recommendedBranch = "";
        let highestScore = 0;

        for (const branch in scores) {
          if (scores[branch] > highestScore) {
            highestScore = scores[branch];
            recommendedBranch = branch;
          }
        }

        // Ø­Ø³Ø§Ø¨ Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙˆØ§ÙÙ‚
        const totalPossibleScore = middleOrientationQuestions.length * 3;
        const matchPercentage = Math.round((highestScore / totalPossibleScore) * 100);

        // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©
        document.getElementById("middleTest").style.display = "none";
        document.getElementById("middleResult").style.display = "block";
        document.getElementById("middleResult").classList.add("active");

        const branchData = branchesData[recommendedBranch];
        document.getElementById("middleBranchIcon").textContent = branchData.icon;
        document.getElementById("middleBranchName").textContent = branchData.name;
        document.getElementById("middleMatchPercentage").textContent = `${matchPercentage}%`;

        // Ø¹Ø±Ø¶ Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ©
        const strengthsList = document.getElementById("middleStrengthsList");
        strengthsList.innerHTML = "";
        branchData.strengths.forEach(strength => {
          const li = document.createElement("li");
          li.innerHTML = `<i class="fas fa-check"></i> ${strength}`;
          strengthsList.appendChild(li);
        });

        // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…Ù‡Ù†ÙŠØ©
        const careerPaths = document.getElementById("middleCareerPaths");
        careerPaths.innerHTML = "";
        branchData.careers.forEach(career => {
          const tag = document.createElement("span");
          tag.className = "career-tag";
          tag.textContent = career;
          careerPaths.appendChild(tag);
        });

        // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… ÙÙŠ Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
        const percentageCircle = document.querySelector("#middleResult .match-percentage");
        percentageCircle.style.background = `conic-gradient(#10b981 0% ${matchPercentage}%, #ddd ${matchPercentage}% 100%)`;
      }

      // Ø¹Ø±Ø¶ Ù†ØªÙŠØ¬Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨Ø§ÙƒØ§Ù„ÙˆØ±ÙŠØ§
      function showBacResult() {
        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø·
        const scores = {
          medical: 0,
          engineering: 0,
          business: 0,
          education: 0,
          arts: 0
        };

        // Ø¬Ù…Ø¹ Ø§Ù„Ù†Ù‚Ø§Ø· Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª
        bacOrientationQuestions.forEach(question => {
          const answerId = bacUserAnswers[question.id];
          if (answerId) {
            const selectedOption = question.options.find(opt => opt.id === answerId);
            if (selectedOption && selectedOption.score) {
              for (const major in selectedOption.score) {
                scores[major] += selectedOption.score[major];
              }
            }
          }
        });

        // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØªØ®ØµØµ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨
        let recommendedMajor = "";
        let highestScore = 0;

        for (const major in scores) {
          if (scores[major] > highestScore) {
            highestScore = scores[major];
            recommendedMajor = major;
          }
        }

        // Ø­Ø³Ø§Ø¨ Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙˆØ§ÙÙ‚
        const totalPossibleScore = bacOrientationQuestions.length * 3;
        const matchPercentage = Math.round((highestScore / totalPossibleScore) * 100);

        // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©
        document.getElementById("bacTest").style.display = "none";
        document.getElementById("bacResult").style.display = "block";
        document.getElementById("bacResult").classList.add("active");

        const majorData = majorsData[recommendedMajor];
        document.getElementById("bacBranchIcon").textContent = majorData.icon;
        document.getElementById("bacBranchName").textContent = majorData.name;
        document.getElementById("bacMatchPercentage").textContent = `${matchPercentage}%`;

        // Ø¹Ø±Ø¶ Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ©
        const strengthsList = document.getElementById("bacStrengthsList");
        strengthsList.innerHTML = "";
        majorData.strengths.forEach(strength => {
          const li = document.createElement("li");
          li.innerHTML = `<i class="fas fa-check"></i> ${strength}`;
          strengthsList.appendChild(li);
        });

        // Ø¹Ø±Ø¶ Ø§Ù„ØªÙˆØµÙŠØ§Øª
        const recommendations = document.getElementById("bacRecommendations");
        recommendations.innerHTML = "";
        majorData.recommendations.forEach(rec => {
          const li = document.createElement("li");
          li.innerHTML = `<i class="fas fa-lightbulb"></i> ${rec}`;
          recommendations.appendChild(li);
        });

        // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…Ù‡Ù†ÙŠØ©
        const careerPaths = document.getElementById("bacCareerPaths");
        careerPaths.innerHTML = "";
        majorData.careers.forEach(career => {
          const tag = document.createElement("span");
          tag.className = "career-tag";
          tag.textContent = career;
          careerPaths.appendChild(tag);
        });

        // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… ÙÙŠ Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
        const percentageCircle = document.querySelector("#bacResult .match-percentage");
        percentageCircle.style.background = `conic-gradient(#10b981 0% ${matchPercentage}%, #ddd ${matchPercentage}% 100%)`;
      }

      // Ø­ÙØ¸ Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡
      function saveOrientationResult(type) {
        const user = JSON.parse(localStorage.getItem("currentUser"));
        
        let resultData;
        if (type === 'middle') {
          const branchName = document.getElementById("middleBranchName").textContent;
          const matchPercentage = document.getElementById("middleMatchPercentage").textContent;
          
          resultData = {
            id: Date.now(),
            userId: user.id,
            date: new Date().toISOString(),
            testType: 'middle',
            recommendedBranch: branchName,
            matchPercentage: matchPercentage,
            answers: middleUserAnswers
          };
        } else {
          const majorName = document.getElementById("bacBranchName").textContent;
          const matchPercentage = document.getElementById("bacMatchPercentage").textContent;
          
          resultData = {
            id: Date.now(),
            userId: user.id,
            date: new Date().toISOString(),
            testType: 'bac',
            recommendedMajor: majorName,
            matchPercentage: matchPercentage,
            answers: bacUserAnswers
          };
        }

        // Ø­ÙØ¸ ÙÙŠ localStorage
        orientationResults.push(resultData);
        localStorage.setItem("orientationResults", JSON.stringify(orientationResults));

        alert("âœ… ØªÙ… Ø­ÙØ¸ Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¨Ù†Ø¬Ø§Ø­");
        updateStatistics();
      }

      // Ø·Ø¨Ø§Ø¹Ø© Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡
      function printOrientationResult() {
        window.print();
      }
    </script>
    
    <!-- Ø¥Ø¶Ø§ÙØ© Font Awesome Ù„Ù„Ø±Ù…ÙˆØ² -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  </body>
</html>